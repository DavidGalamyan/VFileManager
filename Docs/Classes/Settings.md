*[Назад](./../code.md)*  
 
### Описание класса Settings.cs  
   
Класс хранит основные настройки(параметры) приложения. Позволяет сохранять/загружать их из файла конфигурации .json
  
Сами настройки хранятся в двух словарях. Один для текстовых параметров (последний просматриваемый путь, версия приложения), второй для числовых.  
В качестве ключей словаря используются значения **enum SettingsKeys**.  
Снаружи класса, доступ осуществляется через публичные свойства.  
  
Сохранение/загрузка параметров происходит через json сериализацию/десереализацию;  
Процесс сериализации/десериализации производится через дополнительный вспомогательный класс, преобразующий ключи словарей и все параметры в строки, 
для более удобной читаемости конфигурационного файла человеком.  

При старте приложения, производится проверка - если файл настроек отсутствует то он создается заново с дефолтными настройками приложения (хранятся в Properties)  
То же самое произойдет если, при загрузке настроек версия в файле не будет соответствовать текущей версии приложения.  
  
---
  
Примечание:  
Т.к. количество настроек относительно маленькое, то доступ снаружи решил оставить через свойства.  
При большем количестве настроек доступ удобнее организовывать через индексатор, по ключам словарей.  
Подобный подход (доступ через индексатор) применяется в классе **MessageBase.cs**  
  